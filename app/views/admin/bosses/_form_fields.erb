<%= form.select :mission_group_id, MissionGroup.to_dropdown, :required => true %>

<%= form.text_field :name, :required => true, :size => 50 %>
<%= form.text_area :description, :cols => 80, :rows => 5 %>

<%= form.file_field :image,
      :after_field => (image_tag(form.object.image(:small)) if form.object.image?) %>

<%= form.text_field :health, :required => true, :size => 6, :autocomplete => :off %>
<%= form.text_field :attack, :required => true, :size => 6, :autocomplete => :off %>
<%= form.text_field :defence, :required => true, :size => 6, :autocomplete => :off %>

<%= form.text_field :time_limit, :size => 4, :after_field => t(".minutes") %>

<%= form.check_box :repeatable %>

<% invisibility = capture do %>
  <% CharacterType.all.each do |ct| %>
    <div>
      <%= hidden_field_tag "#{form.object_name}[itypes_ids][#{ct.id}]", 0 %>
      <%= check_box_tag "#{form.object_name}[itypes_ids][#{ct.id}]", 1, form.object.itypes.include?(ct), :id => "invisibility_#{ct.id}" %>
      <%= label_tag "invisibility_#{ct.id}", ct.name %>
    </div>
  <% end %>
<% end %>

<%= form.field 'Hidden for', invisibility %>

<h2><%= Boss.human_attribute_name("requirements") %></h2>

<%= form.text_field :ep_cost, :required => true, :size => 6, :autocomplete => :off %>

<%= render "admin/requirements/collection", :form => form %>

<h2><%= Boss.human_attribute_name("payouts") %></h2>

<%= form.text_field :experience, :required => true, :size => 6, :autocomplete => :off %>

<%= render "admin/payouts/collection", :form => form %>
